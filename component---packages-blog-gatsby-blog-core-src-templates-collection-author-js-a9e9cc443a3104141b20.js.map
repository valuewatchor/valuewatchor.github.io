{"version":3,"file":"component---packages-blog-gatsby-blog-core-src-templates-collection-author-js-a9e9cc443a3104141b20.js","mappings":"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","sources":["webpack://@elegantstack/gatsby-starter-flexiblog-medical/./src/@elegantstack/gatsby-blog-pages/containers/Collection.Author.jsx","webpack://@elegantstack/gatsby-starter-flexiblog-medical/../packages/blog/gatsby-blog-core/src/templates/collection.author.js","webpack://@elegantstack/gatsby-starter-flexiblog-medical/./src/@elegantstack/flow-ui-components/PageTitle/PageTitle.jsx","webpack://@elegantstack/gatsby-starter-flexiblog-medical/../packages/flow-ui/flow-ui-components/src/utils/normalizeSlug.js","webpack://@elegantstack/gatsby-starter-flexiblog-medical/./src/@elegantstack/flow-ui-components/Pagination/Pagination.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Layout, Stack, Main, PreFooter } from '@layout'\r\nimport PageTitle from '@components/PageTitle'\r\nimport Pagination from '@components/Pagination'\r\nimport CardList from '@components/CardList'\r\nimport Divider from '@components/Divider'\r\nimport Seo from '@widgets/Seo'\r\nimport AuthorExpanded from '@widgets/AuthorExpanded'\r\n\r\nconst PageCollectionAuthors = ({\r\n  data: { posts, collectionInfo },\r\n  ...props\r\n}) => (\r\n  <Layout {...props}>\r\n    <Seo title={collectionInfo.name} description={collectionInfo.description} />\r\n    <Divider />\r\n    <Stack effectProps={{ effect: 'fadeInDown' }}>\r\n      <PageTitle header={collectionInfo.name} totalCount={posts.totalCount} />\r\n    </Stack>\r\n    <Divider />\r\n    <Stack>\r\n      <Main>\r\n      {false && <AuthorExpanded author={collectionInfo} />}\r\n        {false && <Divider />}\r\n        {posts.nodes && (\r\n          <CardList\r\n            nodes={posts.nodes}\r\n            variant={['horizontal-md', 'vertical']}\r\n            columns={[1, 2, 3, 3]}\r\n          />\r\n        )}\r\n      </Main>\r\n    </Stack>\r\n    <Divider />\r\n    <PreFooter>\r\n      <Pagination {...posts.pageInfo} {...collectionInfo} />\r\n    </PreFooter>\r\n  </Layout>\r\n)\r\n\r\nexport default PageCollectionAuthors\r\n","import { graphql } from 'gatsby'\nimport Collection from '../containers/Collection.Author'\n\nexport default Collection\n\nexport const pageQuery = graphql`\n  query allArticleByAuthorQuery(\n    $skip: Int!\n    $limit: Int!\n    $slug: String!\n    $includeExcerpt: Boolean!\n    $includeTimeToRead: Boolean!\n    $imageQuality: Int!\n    # Michael 2024/10/4\n    $startPostDate: Date!\n  ) {\n    collectionInfo: articleAuthor(slug: { eq: $slug }) {\n      ...ArticleAuthor\n    }\n    posts: allArticle(\n      filter: {\n        private: { ne: true }\n        draft: { ne: true }\n        date: { gte: $startPostDate }\n        author: { slug: { eq: $slug } }\n      }\n      sort: { date: DESC }\n      limit: $limit\n      skip: $skip\n    ) {\n      nodes {\n        ...ArticlePreview\n        ...ArticleThumbnailRegular\n      }\n      ...ArticlePagination\n    }\n  }\n`\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Heading, Text, Badge } from 'theme-ui'\r\n\r\nconst styles = {\r\n  count: {\r\n    fontSize: 4\r\n  },\r\n  subheader: {\r\n    fontWeight: `body`,\r\n    color: `omegaDark`\r\n  },\r\n  runninghead: {\r\n    fontWeight: `body`,\r\n    color: `omegaDark`,\r\n    mb: 0\r\n  }\r\n}\r\n\r\nconst PageTitle = ({ header, subheader, running, totalCount }) => {\r\n  return (\r\n    <div>\r\n      <Heading variant='h1' as='h1'>\r\n        {header}{' '}\r\n        {totalCount && (\r\n          <Badge variant='tag-white' sx={styles.count}>\r\n            {' '}\r\n            {totalCount}\r\n          </Badge>\r\n        )}\r\n      </Heading>\r\n      {subheader && (\r\n        <Text variant='h3' sx={styles.subheader}>\r\n          {subheader}\r\n        </Text>\r\n      )}\r\n      {running && (\r\n        <Text variant='h4' sx={styles.runninghead}>\r\n          {running}\r\n        </Text>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageTitle\r\n\r\nPageTitle.propTypes = {\r\n  title: PropTypes.string,\r\n  subheader: PropTypes.string,\r\n  running: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  totalCount: PropTypes.number\r\n}\r\n","// normalize use of trailing slash\r\nexport default slug => slug.replace(/\\/*$/, `/`)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'gatsby'\r\nimport { Button, Flex, Box } from 'theme-ui'\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa'\r\nimport normalizeSlug from '@components/utils/normalizeSlug'\r\n\r\nconst pagingParam = 'page'\r\n\r\nconst styles = {\r\n  wrapper: {\r\n    justifyContent: `space-between`,\r\n    alignItems: `center`,\r\n    textAlign: `center`,\r\n    borderRadius: `full`,\r\n    bg: `contentBg`,\r\n    maxWidth: [`none`, 500],\r\n    mx: `auto`,\r\n    p: 1\r\n  },\r\n  item: {\r\n    width: `1/3`\r\n  },\r\n  number: {\r\n    py: 2\r\n  },\r\n  button: {\r\n    minWidth: `full`\r\n  }\r\n}\r\n\r\nconst Pagination = ({\r\n  currentPage,\r\n  pageCount,\r\n  hasPreviousPage,\r\n  hasNextPage,\r\n  basePath = '',\r\n  slug = ''\r\n}) => {\r\n  if (!hasNextPage && !hasPreviousPage) return ''\r\n  let prefixPath = normalizeSlug(basePath + slug)\r\n  let pagingPath = normalizeSlug(prefixPath + pagingParam)\r\n\r\n  const prevLink =\r\n    currentPage >= 3 ? `${pagingPath}${currentPage - 1}` : prefixPath\r\n  const nextLink = `${pagingPath}${currentPage + 1}`\r\n\r\n  return (\r\n    <Flex sx={styles.wrapper}>\r\n      <Box sx={styles.item}>\r\n        {hasPreviousPage && (\r\n          <Button variant='mute' as={Link} to={prevLink} sx={styles.button}>\r\n            <FaChevronLeft />\r\n            前頁\r\n          </Button>\r\n        )}\r\n      </Box>\r\n      <Box sx={{ ...styles.item, ...styles.number }}>\r\n          <strong>{currentPage}</strong> / <strong>{pageCount}</strong> 頁\r\n      </Box>\r\n      <Box sx={styles.item}>\r\n        {hasNextPage && (\r\n          <Button variant='dark' as={Link} to={nextLink} sx={styles.button}>\r\n            下頁\r\n            <FaChevronRight />\r\n          </Button>\r\n        )}\r\n      </Box>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n\r\nPagination.propTypes = {\r\n  currentPage: PropTypes.number,\r\n  pageCount: PropTypes.number,\r\n  hasPreviousPage: PropTypes.bool,\r\n  hasNextPage: PropTypes.bool,\r\n  slug: PropTypes.string,\r\n  pagingParam: PropTypes.string\r\n}\r\n"],"names":["_ref","data","posts","collectionInfo","props","_objectWithoutProperties","_excluded","___EmotionJSX","Layout","Seo","title","name","description","Divider","Stack","effectProps","effect","PageTitle","header","totalCount","Main","nodes","CardList","variant","columns","PreFooter","Pagination","_extends","pageInfo","styles","count","fontSize","subheader","fontWeight","color","runninghead","mb","running","Heading","as","Badge","sx","Text","slug","replace","wrapper","justifyContent","alignItems","textAlign","borderRadius","bg","maxWidth","mx","p","item","width","number","py","button","minWidth","currentPage","pageCount","hasPreviousPage","hasNextPage","basePath","prefixPath","normalizeSlug","pagingPath","prevLink","nextLink","Flex","Box","Button","Link","to","FaChevronLeft","_objectSpread","FaChevronRight"],"sourceRoot":""}